{"version":3,"sources":["api/apiHandler.js","components/Auth/UserContext.jsx","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/NavMain.jsx","pages/Home.jsx","components/Forms/FormSignin.jsx","pages/Signin.jsx","components/Forms/FormSignup.jsx","pages/Signup.jsx","components/ProtectedRoute.jsx","pages/Profile.jsx","styles/theme.js","pages/trip/CreateTrip.jsx","components/DraggableTour.jsx","components/DropTarget.jsx","components/DragAndDrop.jsx","pages/trip/OneTrip.jsx","pages/UpdateProfile.jsx","pages/Dashboard.jsx","components/FooterMain.jsx","components/AppMap.jsx","components/EachPOI.jsx","pages/SearchPagePOI.jsx","components/EachTour.jsx","components/SearchBar.jsx","pages/SearchPageActivities.jsx","pages/OneTour.jsx","pages/Error.jsx","App.jsx","index.js"],"names":["service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","userInfo","post","then","res","catch","get","apiRes","patch","id","delete","desti","UserContext","React","createContext","UserProvider","state","user","isLoggedIn","isLoading","setUser","setState","removeUser","apiHandler","authValues","this","Provider","value","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","handleLogout","className","exact","to","src","alt","Fragment","Button","color","variant","ButtonGroup","aria-label","firstName","onClick","FormSignin","email","password","handleChange","event","key","target","name","type","files","checked","handleSubmit","preventDefault","history","push","onChange","onSubmit","TextField","style","width","label","href","textDecoration","contextType","withRouter","Signin","FormSignup","lastName","birthDate","margin","Signup","component","rest","render","userProfile","profilePicture","theme","createMuiTheme","palette","primary","main","light","dark","secondary","dateBegin","dateEnd","destination","tripLength","e","numberOfDays","Math","round","Date","parse","newUser","trips","_id","err","defaultValue","required","FormControl","InputLabel","Select","labelId","placeholder","MenuItem","DraggableTour","useDrag","item","image","object","collect","monitor","isDragging","drag","ref","substr","newTrip","details","objectToFind","tour","find","elem","indexToFind","indexOf","splice","window","location","reload","handleDelete","DropTarget","markAsDone","useContext","CardContext","useDrop","accept","drop","obj","index","isOver","dropResult","getItem","backgroundColor","onDrop","DragAndDrop","handleDrop","numberOfDay","org","organisation","tourId","day","handleTour","pointsOfInterest","map","i","display","flexDirection","properties","repeat","rate","flexWrap","justifyContent","DndProvider","backend","HTML5Backend","link","bookingLink","pictures","indexOfDays","p","trip","capitalize","s","charAt","toUpperCase","slice","match","params","days","Array","keys","apiErr","backgroundImage","backgroundRepeat","pathname","Dashboard","componentDidMount","idToDelete","loaded","FooterMain","height","Map","ReactMapboxGl","accessToken","pointsOfInterestImg","Image","crossOrigin","AppMap","lng","lat","zoom","handleClick","selectedItem","handleSelectItem","containerStyle","top","left","bottom","right","position","center","images","layout","coordinates","geometry","PureComponent","eachTour","tours","kinds","replaceAll","addToTrip","a","dbRes","handleNewSearch","search","copyData","filter","includes","filteredData","features","sort","b","onSelectItem","tourList","shortDescription","price","amount","ComponentToPassStyleTo","useStyles","makeStyles","root","child","SearchBar","handleSearch","classes","Grid","container","spacing","alignItems","highOrderComponent","OneTour","rating","frameBorder","allowFullScreen","App","ThemeProvider","CssBaseline","path","Home","Profile","CreateTrip","OneTrip","SearchPageActivities","UpdateProfile","SearchPagePOI","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d82beedc.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n  baseURL: process.env.REACT_APP_BACKEND_URL,\r\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\r\n});\r\n\r\nfunction errorHandler(error) {\r\n  if (error.response.data) {\r\n    console.log(error.response && error.response.data);\r\n    throw error;\r\n  }\r\n  throw error;\r\n}\r\n\r\nexport default {\r\n  service,\r\n\r\n  signup(userInfo) {\r\n    return service\r\n      .post(\"/api/auth/signup\", userInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  signin(userInfo) {\r\n    return service\r\n      .post(\"/api/auth/signin\", userInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  isLoggedIn() {\r\n    return service\r\n      .get(\"/api/auth/isLoggedIn\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  logout() {\r\n    return service\r\n      .get(\"/api/auth/logout\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n// Profile \r\n  getProfile() {\r\n    return service\r\n    .get(\"/api/profile/me\")\r\n    .then((apiRes) => apiRes)\r\n    .catch(errorHandler)\r\n  },\r\n\r\n  modifyProfile(userInfo) {\r\n    return service\r\n      .patch(\"/api/profile/edit\", userInfo)\r\n      .then((apiRes) => apiRes)\r\n      .catch(errorHandler)\r\n  },\r\n\r\n  deleteProfile() {\r\n    return service\r\n      .delete(\"/api/profile\")\r\n      .then((apiRes) => apiRes)\r\n      .catch(errorHandler)\r\n  },\r\n\r\n  //Trips \r\n  getAllTrips() {\r\n    return service  \r\n      .get(\"/api/trip\")\r\n      .then((apiRes) => apiRes.data)\r\n      .catch(errorHandler)\r\n  },\r\n\r\n  getOneTrip(id) {\r\n    return service \r\n      .get(\"/api/trip/\" + id)\r\n      .then((apiRes) => apiRes.data)\r\n      .catch(errorHandler)\r\n  },\r\n  \r\n  createTrip(data) {\r\n    return service\r\n    .post(\"/api/trip\", data)\r\n    .then((apiRes) => apiRes.data)\r\n    .catch(errorHandler)\r\n  },\r\n\r\n  modifyTrip(id, data) {\r\n    return service  \r\n      .patch(\"/api/trip/\" + id, data)\r\n      .then((apiRes) => apiRes.data)\r\n      .catch(errorHandler)\r\n  },\r\n\r\n  deleteTrip(id) {\r\n    return service\r\n      .delete(\"/api/trip/\" + id)\r\n      .then((apiRes) => apiRes.data)\r\n      .catch(errorHandler)\r\n  },\r\n\r\n  // new Tour DB\r\n  getActivities(desti) {\r\n    return service\r\n      .get(\"/api/activity/destination/\" + desti)\r\n      .then((apiRes) => apiRes)\r\n      .catch(errorHandler)\r\n  },\r\n\r\n  getOneActivity(id) {\r\n    return service  \r\n      .get(\"/api/activity/\" + id)\r\n      .then((apiRes) => apiRes)\r\n  },\r\n\r\n// OPENTRIPMAP API\r\n  getPointsOfInterest(desti) {\r\n    return service\r\n      .get(\"api/openTripMap/\" + desti)\r\n      .then((apiRes) => apiRes)\r\n      .catch(errorHandler)\r\n  },\r\n};\r\n","import React from \"react\";\r\n\r\nexport const UserContext = React.createContext();\r\n","import React, { Component } from \"react\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nclass UserProvider extends Component {\r\n  state = {\r\n    user: null,\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .isLoggedIn()\r\n      .then((data) => {\r\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\r\n      });\r\n  }\r\n\r\n  setUser = (user) => {\r\n    this.setState({ user, isLoggedIn: true });\r\n  };\r\n\r\n  removeUser = () => {\r\n    this.setState({ user: null, isLoggedIn: false });\r\n  };\r\n\r\n  render() {\r\n    //  Setup all the values/functions you want to expose to anybody reading\r\n    // from the AuthContext.\r\n    const authValues = {\r\n      user: this.state.user,\r\n      setUser: this.setUser,\r\n      removeUser: this.removeUser,\r\n      isLoggedIn: this.state.isLoggedIn,\r\n      isLoading: this.state.isLoading,\r\n    };\r\n\r\n    return (\r\n      <UserContext.Provider value={authValues}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProvider;\r\n","import React from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\n// This is what we call a HOC (Higher Order Component).\r\n// It takes a component as a parameter and it returns a component.\r\n// This technique can be used to abstract some logic in order to pass\r\n// some data down as props to the component sent as parameter.\r\n\r\n// The use case of this one is to make it easy to access the user context to\r\n// any component in our app.\r\n\r\n/* ******************************************************** */\r\n\r\n//  How to use:  =>\r\n// YourComponent.jsx\r\n// import React from \"react\"\r\n// function or class YourComponent()\r\n//\r\n// ... your implementation.\r\n//\r\n// export default withUser(YourComponent)\r\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\r\n\r\nexport const withUser = (ComponentToPassUserContextTo) => {\r\n  return function (props) {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {(context) => (\r\n          <ComponentToPassUserContextTo {...props} context={context} />\r\n        )}\r\n      </UserContext.Consumer>\r\n    );\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { withUser } from \"../components/Auth/withUser\";\r\nimport apiHandler from \"../api/apiHandler\";\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport \"../styles/NavMain.css\";\r\n\r\n\r\n\r\n class NavMain extends React.Component {\r\n\r\n\r\n  handleLogout = () => {\r\n    apiHandler\r\n      .logout()\r\n      .then(() => {\r\n        this.props.context.removeUser();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  render () {\r\n    // console.log(this.props.context)\r\n    return (\r\n      <nav className=\"NavMain\">\r\n      <NavLink exact to=\"/\">\r\n        <img src=\"/images/logo.png\" alt=\"Logo\" />\r\n      </NavLink>\r\n          \r\n        {this.props.context.isLoggedIn && (\r\n          <React.Fragment>\r\n          <ul className=\"nav-trip\">\r\n            <Button color=\"secondary\" variant=\"contained\">\r\n              <NavLink to=\"/create-trip\">\r\n                + Create a New Trip\r\n              </NavLink>\r\n            </Button> &nbsp;\r\n            <Button color=\"secondary\" variant=\"contained\">\r\n              <NavLink to=\"/dashboard\">\r\n                My Dashboard\r\n              </NavLink>\r\n            </Button> \r\n          </ul>\r\n          <ul className=\"nav-log\">\r\n          <ButtonGroup variant=\"contained\" color=\"secondary\" aria-label=\"contained primary button group\">\r\n            \r\n              <Button><NavLink to=\"/profile\">\r\n                {this.props.context.user && this.props.context.user.firstName}\r\n              </NavLink></Button>\r\n            \r\n            <Button>\r\n              <p onClick={this.handleLogout}>Logout</p>\r\n            </Button>\r\n          </ButtonGroup>\r\n          </ul>\r\n          </React.Fragment>\r\n        )}\r\n        {!this.props.context.isLoggedIn && (\r\n          <React.Fragment>\r\n          \r\n          <ul className=\"nav-log\">\r\n          <ButtonGroup variant=\"contained\" color=\"secondary\" aria-label=\"contained primary button group\">\r\n            \r\n              <Button>\r\n              <NavLink to=\"/signin\">Log in</NavLink>\r\n              </Button>\r\n            \r\n              <Button>\r\n              <NavLink to=\"/signup\">Create account</NavLink>\r\n              </Button>\r\n            </ButtonGroup>\r\n          </ul>\r\n\r\n          </React.Fragment>\r\n        )}\r\n    </nav>\r\n  );\r\n}\r\n};\r\n\r\nexport default withUser(NavMain);\r\n","import React from \"react\";\r\nimport '../styles/home.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport {withUser} from '../components/Auth/withUser'\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nclass Home extends React.Component {\r\n  render() {\r\n    console.log(this.props.context.isLoggedIn)\r\n\r\n    return (\r\n      <>\r\n      <div className=\"home\">\r\n        <h1>Welcome To Trip & Karmeliet</h1>\r\n        <p>With T&K planning your holiday has never been so easy !</p>\r\n        <p> Pick a destination, choose your activities, and hop-on the next plane to live an unforgettable adventure</p><br />\r\n      {this.props.context.isLoggedIn ?\r\n      (<NavLink exact to=\"/create-trip\"><Button variant=\"contained\" color=\"primary\">Create my first Trip !</Button></NavLink>)\r\n      : \r\n      (<NavLink exact to=\"/signup\"><Button variant=\"contained\" color=\"primary\">Create my Account Now !</Button></NavLink>)}\r\n      </div>\r\n      <div className=\"image-line\">\r\n      <div>BARCELONA - BERLIN - PARIS - LONDON</div>\r\n      </div>\r\n      </>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(Home);\r\n","import React, { Component } from \"react\";\r\nimport Button from '@material-ui/core/Button'\r\nimport { UserContext } from \"../Auth/UserContext\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport TextField from '@material-ui/core/TextField'\r\nimport '../../styles/form.css'\r\n\r\nclass FormSignin extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const key = event.target.name;\r\n\r\n    // You can test more if you have to handle different sorts of inputs.\r\n    const value =\r\n      event.target.type === \"file\"\r\n        ? event.target.files[0]\r\n        : event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n\r\n        \r\n        this.setState({ [key]: value });\r\n      };\r\n      \r\n      handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        \r\n        apiHandler\r\n        .signin(this.state)\r\n        .then((data) => {\r\n          this.context.setUser(data);\r\n          this.props.history.push(\"/\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          // Display error message here, if you set the state\r\n        });\r\n        \r\n    }\r\n      render() {\r\n        // console.log(this.state)\r\n    return (\r\n      <div className='backgroundFormSignIn'>\r\n      {/* // rajouter le handlesubmit onkeypress 13(Je crois) si t'as le temps */}\r\n      <form onChange={this.handleChange} onSubmit={this.handleSubmit} className=\"form\">\r\n      <img src=\"/favicon.ico\" alt=\"toto\" /><br />\r\n      <h1>Please Sign In</h1>\r\n        {/* <label htmlFor=\"email\">Email</label> */}\r\n        <TextField style={{width: '40%'}} type=\"email\" id=\"email\" name=\"email\" label=\"E-mail\" variant=\"outlined\" className=\"input\"/><br />\r\n        \r\n        {/* <label htmlFor=\"password\">Password</label> */}\r\n        <TextField style={{width: '40%'}} type=\"password\" id=\"password\" variant=\"outlined\" label=\"Password\" name=\"password\" className=\"input\"/>\r\n        <br />\r\n        <Button color=\"primary\" variant=\"contained\" type=\"button\" onClick={this.handleSubmit}>Submit</Button><br/>\r\n        <a href=\"/signup\" style={{textDecoration: \"underline\", color: \"blue\"}}>Don't have an account yet ? Sign up</a>\r\n\r\n      </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(FormSignin);\r\n","import React from \"react\";\r\nimport FormSignin from \"../components/Forms/FormSignin\";\r\n\r\nconst Signin = (props) => {\r\n  return <FormSignin />;\r\n};\r\n\r\nexport default Signin;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { UserContext } from \"../Auth/UserContext\";\r\nimport apiHandler from \"../../api/apiHandler\";\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nclass FormSignup extends Component {\r\n  static contextType = UserContext;\r\n\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    lastName:\"\",\r\n    firstName:\"\",\r\n    birthDate:\"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const value =\r\n      event.target.type === \"file\"\r\n        ? event.target.files[0]\r\n        : event.target.type === \"checkbox\"\r\n        ? event.target.checked\r\n        : event.target.value;\r\n\r\n    const key = event.target.name;\r\n    \r\n    this.setState({ [key]: value, });\r\n    console.log(this.state)\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    apiHandler\r\n      .signup(this.state)\r\n      .then((data) => {\r\n        this.context.setUser(data);\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className='backgroundFormSignUp'>\r\n\r\n      <form onChange={this.handleChange} onSubmit={this.handleSubmit} className=\"form\">\r\n      <img src=\"/favicon.ico\" alt=\"toto\" /><br />\r\n      <h1>Please Sign Up</h1><br />\r\n       \r\n        <TextField style={{width: '40%'}} variant=\"outlined\" type=\"text\" id=\"firstName\" label='First Name' name=\"firstName\" /><br />\r\n\r\n        <TextField style={{width: '40%'}} variant=\"outlined\" type=\"text\" id=\"lastName\" label='Last Name' name=\"lastName\" /><br />\r\n        \r\n        {/* <TextField style={{width: '40%'}} variant=\"outlined\" type=\"date\" id=\"birthDate\" name=\"birthDate\"/><br /> */}\r\n        \r\n        <TextField style={{width: '40%'}} variant=\"outlined\" type=\"email\" id=\"email\" label='E-mail' name=\"email\" /><br />\r\n        \r\n        <TextField style={{width: '40%'}} variant=\"outlined\" type=\"password\" id=\"password\" label='Password' name=\"password\" /><br />\r\n\r\n\r\n        <Button style={{margin: \"10px\"}} color=\"primary\" variant=\"contained\" onClick={this.handleSubmit}>Submit</Button>\r\n        <a href=\"/signin\" style={{textDecoration: \"underline\", color: \"blue\" , margin: \"10px\"}}>Already have an account ? Sign in</a>\r\n        <p>By signing up, you agree to CodePen's <a href=\"/error\" style={{textDecoration: \"underline\", color: \"blue\"}}>Terms of Service</a>  and <a href=\"/error\" style={{textDecoration: \"underline\", color: \"blue\"}}>Privacy Policy.</a></p>\r\n      </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(FormSignup);\r\n","import React from \"react\";\r\nimport FormSignup from \"../components/Forms/FormSignup\";\r\n\r\nconst Signup = (props) => {\r\n  return <FormSignup />;\r\n};\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { withUser } from \"../components/Auth/withUser\";\r\n\r\nconst ProtectedRoute = ({ component: Component, context, ...rest }) => {\r\n  if (context.isLoading) {\r\n    return null;\r\n  } else if (context.isLoggedIn) {\r\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\r\n  } else {\r\n    return <Redirect to=\"/signin\" />;\r\n  }\r\n};\r\n\r\nexport default withUser(ProtectedRoute);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {withUser} from '../components/Auth/withUser'\r\nimport Button from '@material-ui/core/Button'\r\nimport '../styles/profile.css'\r\n\r\nconst Profile = (props) => {\r\n  const userProfile = props.context.user\r\n  \r\n  // console.log(userProfile)\r\n  return (\r\n    <div className='profile'>\r\n      <h1> Hey {userProfile.firstName} !</h1> &nbsp;\r\n    <div className=\"profile-details\">\r\n      <img src={userProfile.profilePicture} alt={userProfile.firstName}/>\r\n      <h3>Please find your information below : </h3>\r\n        <p>First Name : {userProfile.firstName}<br/>\r\n        Last Name : {userProfile.lastName}<br/>\r\n        E-mail : {userProfile.email}</p>\r\n    </div>\r\n\r\n   <NavLink to=\"/profile/edit\">\r\n      <Button color=\"primary\" variant=\"contained\">\r\n        Modify My Profile \r\n      </Button>\r\n    </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withUser(Profile);\r\n","import { createMuiTheme }  from '@material-ui/core/styles'\r\n\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n        main: '#0800a3',\r\n        light: '#554dff',\r\n        dark: '#737373'\r\n    },\r\n    secondary: {\r\n        main: '#f1c232ff',\r\n        light: '#f0cc00'\r\n    },\r\n    error: {\r\n      main: '#ff0505',\r\n    },\r\n  },\r\n})\r\n\r\n\r\nexport default theme","import React, { Component } from 'react'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport {withUser} from '../../components/Auth/withUser'\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { MenuItem } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button'\r\nimport apiHandler from '../../api/apiHandler';\r\nimport '../../styles/create-trip.css'\r\n\r\nclass CreateTrip extends Component {\r\n    state = {\r\n        dateBegin: \"\",\r\n        dateEnd: \"\",\r\n        destination:\"\",\r\n        tripLength: 0,\r\n        error: false\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        e.preventDefault();\r\n\r\n        const name = e.target.name\r\n        const value = e.target.value\r\n        this.setState({\r\n            [name]: value,\r\n        })\r\n        \r\n        // console.log(e.target.value)\r\n        // console.log(e.target.name)\r\n\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        const oneDay = 24 * 60 * 60 * 1000\r\n        const numberOfDays = Math.round(((Date.parse(this.state.dateEnd) - Date.parse(this.state.dateBegin)) / oneDay) +1 )\r\n        if (numberOfDays <= 0 || !this.state.destination) {\r\n            this.setState({\r\n                error: !this.state.error\r\n            })\r\n        }\r\n        const newUser = {...this.props.context.user}\r\n\r\n        this.setState({\r\n            tripLength: numberOfDays,\r\n        })\r\n        console.log(numberOfDays)\r\n        if (numberOfDays <= 0) {\r\n        } else{\r\n            // console.log(\"ce qu'on va créer\",this.state)\r\n            apiHandler\r\n                .createTrip(this.state)\r\n                .then((data) => {\r\n                    newUser.trips.push(data._id)\r\n                    // console.log(newUser)\r\n                    apiHandler\r\n                        .modifyProfile(newUser)\r\n                        .then((res) => {\r\n                            console.log(res)\r\n                        })\r\n                    // this.props.context.setUser(newUser)\r\n                    this.props.history.push(`/trip/${data._id}`)\r\n\r\n                })\r\n                .catch((err) => {\r\n                    // console.log(err)\r\n                });\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    render() {\r\n        // console.log('dans render', this.props.context.user.trips)\r\n        return (\r\n            <div className=\"create-trip\">\r\n                <form className=\"create-trip-form\" onChange={this.handleChange} onSubmit={this.handleSubmit}>\r\n            <h1>Create Your Trip !</h1>\r\n            &nbsp;\r\n            <p>Start by picking your trip dates and the destination you are going to ! <br /><br /> You will then arrive on your Trip page from which you can have a look at what you planned. <br/><br /> You will also be able to search for interesting activities and points of interest in that destination, pick them up and let us create the perfect schedule ! </p><br /> <br />\r\n                    <div>\r\n                    <TextField style={{width: '45%'}} type=\"date\" variant=\"outlined\" defaultValue=\"2020-10-23\" label=\"Start Date\" name=\"dateBegin\" required/> &nbsp; \r\n                    <TextField style={{width: '45%'}} type=\"date\" variant=\"outlined\" defaultValue=\"2020-10-30\" label=\"End Date\" name=\"dateEnd\" required/>\r\n                    </div><br />\r\n\r\n                    <FormControl variant=\"outlined\" style={{width: '70%'}}>\r\n                        <InputLabel id=\"destination\">Destination</InputLabel>\r\n                        <Select labelId=\"destination\" name=\"destination\" placeholder=\"Destination\" onChange={this.handleChange}>\r\n                            <MenuItem value=\"\">None</MenuItem>\r\n                            <MenuItem value={\"paris\"}>Paris</MenuItem>\r\n                            <MenuItem value={\"london\"}>London</MenuItem>\r\n                            <MenuItem value={\"berlin\"}>Berlin</MenuItem>\r\n                            <MenuItem value={\"barcelona\"}>Barcelona</MenuItem>\r\n                        </Select><br />\r\n                    <div> {this.state.error ? <p> Invalid date or destination</p> : ''}</div>\r\n                    <Button color=\"primary\" variant=\"contained\" type=\"button\" onClick={this.handleSubmit}>Create Trip</Button>\r\n                    </FormControl>\r\n\r\n\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withUser(CreateTrip)\r\n","import React from 'react'\r\nimport { useDrag } from 'react-dnd'\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport {NavLink} from 'react-router-dom' \r\nimport apiHandler from '../api/apiHandler';\r\n\r\nexport default function DraggableTour(props) {\r\n   \r\n\r\n    const handleDelete = (id) => {\r\n        // console.log(props.id)\r\n        const newTrip = {...props.object.details}\r\n        const objectToFind = newTrip.tour.find(elem => elem._id === props.id)\r\n        const indexToFind = newTrip.tour.indexOf(objectToFind)\r\n        // console.log(indexToFind)\r\n        newTrip.tour.splice(indexToFind, 1)\r\n        apiHandler\r\n            .modifyTrip(props.object.details._id, newTrip)\r\n            .then((apiRes) => {\r\n                window.location.reload(false)\r\n                console.log(apiRes)\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    const [{isDragging}, drag] = useDrag({\r\n        item: {type: 'function', name: props.name, image: props.image, id: props.id, object:props},\r\n        collect: monitor => ({\r\n            isDragging: !!monitor.isDragging()\r\n        })\r\n      })\r\n      console.log(props)\r\n    return (\r\n        <div className=\"activities-card\" ref={drag}>\r\n            <NavLink exact to={`/activity/${props.id}`}>\r\n            <img style={{width: '100%'}} src={props.image} alt={props.name}/>\r\n            <p>{props.name.substr(0, 23)}...</p>\r\n            <DeleteForeverIcon onClick={() => handleDelete(props.id)}/>\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, {\r\n     useContext} from 'react'\r\nimport { useDrop } from 'react-dnd'\r\nimport { CardContext } from './DragAndDrop';\r\n\r\n\r\nexport default function DropTarget(props) {\r\n\r\n    const handleDrop = ( e , index) => {\r\n        // console.log(e, 'titi', index)\r\n\r\n    }\r\n\r\n    const {markAsDone} = useContext(CardContext)\r\n    const [{dropResult, isOver}, drop] = useDrop({\r\n        accept: 'function', \r\n        drop: (obj, monitor) => { markAsDone(obj.id, props.index)},\r\n        collect: (monitor) => ({\r\n            isOver: !!monitor.isOver(),\r\n            dropResult: monitor.getItem(),\r\n        }) \r\n    });\r\n    // console.log(props.index) // ApiHandler -> set Tour day X == props.index\r\n\r\n  return (<td ref={drop} style={{backgroundColor: isOver ? 'cornflowerblue' : \"white\"}} onDrop={handleDrop} value={props.key}> Drop the Activity here ! {props.children}</td>)\r\n}","import React from 'react'\r\nimport { useState, createContext } from 'react';\r\nimport DraggableTour from './DraggableTour';\r\nimport { DndProvider } from 'react-dnd'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport DropTarget from './DropTarget';\r\nimport apiHandler from '../api/apiHandler';\r\n\r\nexport const CardContext = createContext({\r\n\tmarkAsDone: null,\r\n});\r\n\r\n\r\nexport default function DragAndDrop(props) {\r\n    // console.log(props.details._id)\r\n\r\n\r\n\r\n    // // const [uniqueDrop, setUniqueDrop] = useState({accepts: 'function'})\r\n    \r\n    const handleDrop = (e, item) => {\r\n        // console.log(e, 'toto', item)\r\n       \r\n        // const {name} = item;\r\n        // setUniqueDrop()\r\n    }\r\n\r\n    const markAsDone = (_id, index) => {\r\n        const newTrip = {...props.details}\r\n\r\n        const org = [...newTrip.organisation]\r\n\r\n        org.push({tourId: _id, day: index })\r\n        \r\n        newTrip.organisation = org;\r\n\r\n        apiHandler\r\n            .modifyTrip(props.details._id, newTrip)\r\n            .then((apiRes) => {\r\n             \r\n                    props.handleTour(apiRes);\r\n            })\r\n            .catch((err) => {\r\n                // console.log(err)\r\n            })\r\n    \r\n    };\r\n    \r\n\r\n     console.log(props.details,\"props dets\", props.numberOfDay)\r\n    return (\r\n    <CardContext.Provider value={{markAsDone}}>\r\n        <div>\r\n            <div className=\"activities-and-points\">\r\n            </div>\r\n            <div className=\"points-of-interest\">\r\n                <h1>Your Points of Interest : </h1>\r\n                    <div className=\"scroll-interest\" >\r\n                        {props.details ? props.details.pointsOfInterest.map((obj, i) => {\r\n                            return (<div key={i} style={{display: \"flex\", flexDirection: \"column\", margin: \"5px\"}}>\r\n                                <h3>{obj.properties.name}</h3>\r\n                                <p>{'★'.repeat(Math.round(obj.properties.rate))}\r\n                                {'☆'.repeat(3 - Math.round(obj.properties.rate))}</p>\r\n                            </div>)\r\n                    }\r\n                    ) : (<div>content is loading</div>)}\r\n            </div>\r\n            </div>\r\n                <div className='all-activities'>\r\n                    <h1>Your Activities : </h1>\r\n                    <div style={{display: \"flex\", flexWrap: \"wrap\", justifyContent:\"center\", }}>\r\n                        {props.details ? props.details.tour.map((obj, i) => {\r\n                            return ( <React.Fragment key={i}>\r\n                                <DndProvider backend={HTML5Backend}>\r\n                                    <DraggableTour link={obj.bookingLink} image={obj.pictures[0]} name={obj.name} id={obj._id} object={props} onDrop={handleDrop}/>\r\n                                </DndProvider>\r\n                            </React.Fragment>)\r\n                    }) : (<div> Content is loading</div>)}\r\n                </div>\r\n            </div>\r\n            <div className=\"trip-table\">\r\n                <table>\r\n                    <thead>\r\n                    <tr>\r\n                        {props.details && props.numberOfDay.map((elem, i) => {\r\n                            return (<td key={i}>Day {elem}</td>   )\r\n                        })}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                        {props.details && props.numberOfDay.map((elem, indexOfDays) => {\r\n                            return (<React.Fragment key={indexOfDays}>\r\n                                <DndProvider backend={HTML5Backend}>\r\n                                     <DropTarget  index={indexOfDays}>\r\n                                     {props.details && props.details.organisation && props.details.organisation.find(p => p.day === indexOfDays) && props.details.organisation.find(p => p.day === indexOfDays).day === indexOfDays ?\r\n                                      <DraggableTour  name={props.details.organisation.find(p => p.day === indexOfDays).tourId.name} image={props.details.organisation.find(p => p.day === indexOfDays).tourId.pictures[0]} link={props.details.organisation.find(p => p.day === indexOfDays).tourId.bookingLink}/> :   null}\r\n                                     </DropTarget>\r\n                                </DndProvider>    \r\n                            </React.Fragment>)})\r\n                        }\r\n                            \r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\t\t\t\t\t{/* <DraggableTour object={props.object} link={props.details.tour[2].bookingLink} image={props.details.tour[2].pictures[0]} name={props.details.tour[2].name} /> */}\r\n        </div>\r\n    </CardContext.Provider>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport apiHandler from '../../api/apiHandler'\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from '@material-ui/core/Button'\r\nimport { withUser } from '../../components/Auth/withUser'\r\nimport '../../styles/oneTrip.css'\r\nimport DragAndDrop from '../../components/DragAndDrop';\r\n\r\nclass OneTrip extends Component {\r\n\r\n    state = {\r\n        trip: {},\r\n        numberOfDay: null,\r\n    }\r\n\r\n    capitalize = (s) => {\r\n        if (typeof s !== 'string') return ''\r\n        return s.charAt(0).toUpperCase() + s.slice(1)\r\n      }\r\n\r\n    componentDidMount() {  \r\n        apiHandler\r\n            .getOneTrip(this.props.match.params.id)\r\n            .then((apiRes) => {\r\n                // console.log(apiRes);\r\n                const oneDay = 24 * 60 * 60 * 1000\r\n                const numberOfDays = Math.round((Date.parse(apiRes.dateEnd) - Date.parse(apiRes.dateBegin)) / oneDay) +1;\r\n                const days =  [...Array(numberOfDays).keys()].map((elem) => elem+1)\r\n                this.setState({\r\n                    trip: apiRes,\r\n                    numberOfDay: days\r\n                });\r\n                // console.log(days)\r\n            })\r\n            .catch((apiErr) => {\r\n                console.log(apiErr)\r\n            }); \r\n        }\r\n\r\n        \r\n        handleTour = (tour) => {\r\n            this.setState({trip:tour})\r\n        }\r\n    \r\n    render() {\r\n        // this.state.numberOfDay && this.state.trip.tour.map((obj) => console.log(obj))\r\n        // console.log(typeof(DraggableTour))\r\n        return (\r\n            <section className='one-trip'>\r\n            <div className=\"destination\" style={{backgroundImage: `url('/images/${this.state.trip.destination}.jpg')`, backgroundRepeat: \"no-repeat\"}}>\r\n                <h1>Your trip to {this.capitalize(this.state.trip.destination)} will be unforgettable!</h1>\r\n                <p>{this.capitalize(this.state.trip.destination)} is a really nice destination, it's sure that you will enjoy your trip ! But why not adding some spices to this adventure ? </p>\r\n                <Button color=\"primary\" variant=\"contained\">\r\n                    <Link to={{pathname: \"/search/activities\", state:{trip: this.state.trip} }}>\r\n                        Search activities\r\n                    </Link> \r\n                </Button>&nbsp;\r\n                <Button color=\"primary\" variant=\"contained\">\r\n                    <Link to={{pathname: \"/search/points-of-interest\", state:{trip: this.state.trip} }}>\r\n                        Search Points of Interest\r\n                    </Link> \r\n                </Button>&nbsp;\r\n            </div>\r\n            {this.state.numberOfDay ? <DragAndDrop handleTour={this.handleTour} details={this.state.trip} numberOfDay={this.state.numberOfDay}/> : <div>Content is loading ...</div>}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withUser(OneTrip)","import React, { Component } from 'react'\r\nimport apiHandler from \"../api/apiHandler\";\r\nimport {withUser} from '../components/Auth/withUser'\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nclass UpdateProfile extends Component {\r\n\r\n    state = {\r\n\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        const value =\r\n          event.target.type === \"file\"\r\n            ? event.target.files[0]\r\n            : event.target.type === \"checkbox\"\r\n            ? event.target.checked\r\n            : event.target.value;\r\n    \r\n        const key = event.target.name;\r\n        \r\n        this.setState({ [key]: value, });\r\n        console.log(this.state)\r\n      };\r\n\r\n      handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        console.log(this.state)\r\n   \r\n        apiHandler\r\n        .modifyProfile(this.state)\r\n      \r\n        .then((res) => {\r\n          console.log(res)\r\n          this.props.context.setUser(res.data);\r\n          console.log(res)\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      };\r\n\r\n    render() {\r\n        const userProfile = this.props.context.user\r\n        // console.log(this.state)\r\n        return (\r\n            <div className='backgroundFormSignUp'>\r\n\r\n      <form onSubmit={this.handleSubmit} className=\"form\">\r\n      <img src=\"/favicon.ico\" alt=\"toto\" /><br />\r\n      <h1>Update your Infos</h1><br />\r\n       \r\n        <TextField style={{width: '40%'}} variant=\"outlined\" defaultValue={userProfile.firstName} type=\"text\" id=\"firstName\" label='First Name'  name=\"firstName\" onChange={this.handleChange}/><br />\r\n\r\n        <TextField style={{width: '40%'}} variant=\"outlined\" defaultValue={userProfile.lastName} type=\"text\" id=\"lastName\" label='Last Name' name=\"lastName\" onChange={this.handleChange} /><br />\r\n        \r\n        {/* <TextField style={{width: '40%'}} variant=\"outlined\" type=\"date\" id=\"birthDate\" name=\"birthDate\"/><br /> */}\r\n        \r\n        <TextField style={{width: '40%'}} variant=\"outlined\" defaultValue={userProfile.email} type=\"email\" id=\"email\" label='E-mail' name=\"email\" onChange={this.handleChange} /><br />\r\n        \r\n        {/* <TextField style={{width: '40%'}} variant=\"outlined\" value={userProfile.password} type=\"password\" id=\"password\" label='Password' name=\"password\" onChange={this.handleChange} /><br /> */}\r\n\r\n\r\n        <Button color=\"primary\" variant=\"contained\" onClick={this.handleSubmit}>Submit</Button>\r\n      </form>\r\n      </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withUser(UpdateProfile)\r\n","import React, { Component } from 'react'\r\nimport apiHandler from '../api/apiHandler'\r\nimport '../styles/dashboard.css'\r\nimport Button from '@material-ui/core/Button'\r\n\r\n\r\n\r\nclass Dashboard extends Component {\r\n\r\n    state = {\r\n        user: null\r\n    }\r\n\r\n    capitalize = (s) => {\r\n        if (typeof s !== 'string') return ''\r\n        return s.charAt(0).toUpperCase() + s.slice(1)\r\n      }\r\n\r\n    componentDidMount = () => {\r\n        apiHandler\r\n            .getProfile()\r\n            .then((res) => {\r\n                this.setState({\r\n                    user: res.data\r\n                })\r\n            })\r\n            .catch((err) => console.log(err))\r\n    }\r\n\r\n    handleDelete = (id) => {\r\n        console.log(id)\r\n        apiHandler\r\n            .deleteTrip(id)\r\n            .then((apiRes) => {\r\n                console.log('toto')\r\n                const newUser = {...this.state.user}\r\n                const idToDelete = newUser.trips.indexOf(id)\r\n                newUser.trips.splice(idToDelete, 1)\r\n                apiHandler\r\n                    .modifyProfile(newUser)\r\n                    .then((apiRes) => {\r\n                        console.log(apiRes)\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err)\r\n                    })\r\n                \r\n                window.location.reload(false)\r\n            })\r\n            .catch((apiErr) => {\r\n                console.log(apiErr)\r\n            })\r\n    }\r\n\r\n    render() {\r\n        // console.log(this.state.user && this.state.user.trips[0].destination)\r\n        const loaded = this.state.user && this.state.user.trips\r\n        console.log(this.props)\r\n\r\n        return (<section className=\"dashboard\">\r\n            <div className=\"dashboard-head\">\r\n                <h1> Welcome To Your Dashboard</h1>&nbsp;\r\n                <h3> This is the place to manage your trips ! </h3>&nbsp;\r\n                <p> In the dashboard you can edit your trips, take a look at your past trips if you want to share what you did to friends, and even delete them if you're sure to never forget ! </p>&nbsp;\r\n                <p>Nota bene: You shouldn't book more than 2 activities per day, otherwise the schedule will be tight</p>\r\n            </div>\r\n                <table className=\"dashboard-table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <td>Destination</td>\r\n                            <td>Start Date</td>\r\n                            <td>End Date</td>\r\n                            <td>View/Edit Trip</td>\r\n                            <td>Delete Trip</td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {loaded ? this.state.user.trips.map((obj, i) => (<tr>\r\n                            <td key={i} className=\"to-stylize\">{this.capitalize(obj.destination)}</td>\r\n                            <td className=\"to-stylize\">{obj.dateBegin.substr(0,10)}</td>\r\n                            <td className=\"to-stylize\">{obj.dateEnd.substr(0,10)}</td>\r\n                            <td><a href={`/trip/${obj._id}`}><Button variant=\"contained\" color=\"primary\">View Details</Button></a></td>\r\n                            <td><Button variant=\"contained\" onClick={() => this.handleDelete(obj._id)}>Delete</Button></td>\r\n                            \r\n                        </tr>))\r\n                         : <td>You Haven't Created a trip yet</td>}\r\n                    </tbody>\r\n                </table>\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Dashboard","import React, { Component } from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport '../styles/footer.css'\r\n\r\nclass FooterMain extends Component {\r\n    render() {\r\n        return (\r\n        <section className=\"footer\">\r\n            <div className=\"footer-info\">\r\n                <h2>Made In </h2>&nbsp;\r\n                <img src=\"/images/js.png\" alt=\"javaScript\" style={{width: 'auto', height: \"50px\"}}/>&nbsp;\r\n                <h2>with</h2>&nbsp;\r\n                <img src=\"/images/reactjs.png\" alt=\"React\" style={{width: 'auto', height: \"50px\"}}/>&nbsp;\r\n                <h2>&</h2>&nbsp;&nbsp;&nbsp;&nbsp;\r\n                <img src=\"/images/nodejs.png\" alt=\"Node\" style={{width: 'auto', height: \"50px\"}}/>&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n                <h2>by Timothée Nicole for</h2>&nbsp;&nbsp;&nbsp;\r\n                \r\n                <a href=\"https://www.ironhack.com\" target=\"_blank\"><img src=\"/images/ironhack.png\" alt=\"IronHack\" style={{width: 'auto', height: \"50px\"}}/></a>&nbsp;\r\n            </div>\r\n            \r\n            <div className=\"social-network\">\r\n            <a href=\"https://github.com/timothee-nicole\" target=\"_blank\"><img src=\"/images/github.png\" alt=\"GitHub\" style={{width: 'auto', height: \"50px\"}}/></a>&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <a href=\"https://www.linkedin.com/in/timoth%C3%A9e-nicole/\" target=\"_blank\"><img src=\"/images/ln.png\" alt=\"LinkdIn\" style={{width: 'auto', height: \"50px\"}}/></a>&nbsp;&nbsp;&nbsp;&nbsp;\r\n                \r\n            </div>\r\n                \r\n        </section>\r\n        )\r\n    }\r\n}\r\nexport default FooterMain","import React from \"react\";\r\nimport ReactMapboxGl, { Layer, Feature } from \"react-mapbox-gl\";\r\nimport Button from '@material-ui/core/Button'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\n\r\nconst Map = ReactMapboxGl({\r\n  accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\r\n});\r\n\r\nconst pointsOfInterestImg = new Image(35, 35);\r\npointsOfInterestImg.src = \"https://img.icons8.com/ios/452/point-of-interest.png\";\r\npointsOfInterestImg.crossOrigin = \"Anonymous\";\r\n\r\nclass AppMap extends React.PureComponent {\r\n  \r\n    state = {\r\n    lng: null,\r\n    lat: null,\r\n    zoom: 1 // used for map zoom level\r\n  };\r\n\r\n  componentDidMount() {\r\n    console.log(this.props.destination)\r\n      if (this.props.destination === \"paris\"){\r\n          console.log('paris')\r\n          this.setState({\r\n            lng: 2.34,\r\n            lat: 48.86,\r\n            zoom: 12\r\n        })\r\n    } else if (this.props.destination === \"london\") {\r\n        console.log('london')\r\n        this.setState({\r\n            lng: -0.12,\r\n            lat: 51.51,\r\n            zoom: 13,\r\n        })\r\n    } else if (this.props.destination === \"barcelona\") {\r\n        console.log('barcelona')\r\n        this.setState({\r\n            lat: 41.39,\r\n            lng: 2.155,\r\n            zoom: 13,\r\n        })\r\n    } else if (this.props.destination === \"berlin\") {\r\n        console.log(\"berlin\")\r\n        this.setState({\r\n            lat: 52.52,\r\n            lng: 13.4,\r\n            zoom: 13,\r\n        })\r\n    };\r\n\r\n  }\r\n\r\n  handleClick = (selectedItem) => {\r\n    // Pass the selectedItem back to the parent.\r\n    this.props.handleSelectItem(selectedItem);\r\n  };\r\n\r\n  render() {\r\n    // console.log(this.props.id)\r\n\r\n    return (\r\n        <>\r\n        <div className='back-button'>\r\n            <NavLink exact to={`/trip/${this.props.id}`}><Button color=\"primary\" variant=\"contained\" className='back-button'>Back to the Trip Page</Button></NavLink>\r\n        </div>\r\n     {this.state.lat ? <Map\r\n        style={\"mapbox://styles/mapbox/light-v10\"}\r\n        zoom={[this.state.zoom]}\r\n        containerStyle={{\r\n          top: 70,\r\n          left: 0,\r\n          bottom: 5,\r\n          right: 0,\r\n          position: 'fixed'}}\r\n          center={[this.state.lng, this.state.lat]} >\r\n    \r\n            (<Layer type=\"symbol\" id=\"marker\" images={[\"poi-icon\", pointsOfInterestImg]} layout={{ \"icon-image\": \"poi-icon\" }}>\r\n            {this.props.pointsOfInterest && this.props.pointsOfInterest.map((obj, i) => \r\n                <Feature onClick={(e) => this.handleClick(obj)}  key={i} coordinates={[obj.geometry.coordinates[0], obj.geometry.coordinates[1]]} />\r\n             )} \r\n            </Layer>)  \r\n      \r\n    \r\n      </Map> : <div>Content is loading</div>\r\n      }\r\n\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppMap;\r\n","import React from 'react'\r\nimport '../styles/eachTour.css'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nexport default function eachTour(props) {\r\n    let tours = props.pointsOfInterest\r\n    console.log(props.pointsOfInterest)\r\n    return (\r\n        <div>\r\n            {tours ?\r\n                 (\r\n                    <div className=\"display-item\">\r\n                    <div className=\"tourDescription\">\r\n                        <h2>{tours.properties.name}</h2>\r\n                        <p> rate: \r\n                        {'★'.repeat(Math.round(tours.properties.rate))}\r\n                        {'☆'.repeat(3 - Math.round(tours.properties.rate))}</p>\r\n                        <p>Tags: {tours.properties.kinds.replaceAll(',', ', ').replaceAll('_', ' ')}</p>  \r\n                    </div>\r\n                    <div className=\"add-to-trip\">\r\n                        <Button onClick={() => props.addToTrip({geometry: tours.geometry, properties: tours.properties})} color=\"primary\" variant=\"contained\">\r\n                        Add to my trip\r\n                        </Button>\r\n                    </div>\r\n                    </div>\r\n            ) : console.log('Content is loading')}\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport apiHandler from '../api/apiHandler'\r\nimport AppMap from '../components/AppMap'\r\nimport { withUser } from '../components/Auth/withUser'\r\nimport EachPOI from '../components/EachPOI'\r\n\r\n\r\nclass SearchPagePOI extends Component {\r\n    \r\n    state = {\r\n        data: \"\",\r\n        destination: this.props.location.state.trip.destination,\r\n        id: this.props.location.state.trip._id\r\n    }\r\n\r\n    \r\n    addToTrip = async (id) => {\r\n        // console.log(id)\r\n        try {\r\n            const dbRes = await apiHandler.getOneTrip(this.props.location.state.trip._id)\r\n\r\n            const newTrip = {...dbRes}\r\n            newTrip.pointsOfInterest.push(id)\r\n            console.log(newTrip)\r\n\r\n          const apiRes = await apiHandler.modifyTrip(this.props.location.state.trip._id, newTrip)\r\n                console.log(apiRes)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }    \r\n    }\r\n        \r\n    \r\n\r\n    componentDidMount() {\r\n        // console.log(this.state)\r\n\r\n        apiHandler\r\n            .getPointsOfInterest(this.state.destination)\r\n            .then((apiRes) => {\r\n                // console.log(apiRes.data.features)\r\n                const filteredData = apiRes.data.features.filter((obj) => {\r\n                    return obj.properties.rate <= 3\r\n                })\r\n                filteredData.sort((a, b) => {\r\n                   return a.properties.rate < b.properties.rate ? 1 : a.properties.rate > b.properties.rate ? -1 : 0 \r\n                })\r\n                // console.log(filteredData)\r\n                this.setState({\r\n             data: filteredData\r\n            })})\r\n    }\r\n    \r\n    \r\n    handleNewSearch = (search) => {\r\n        if(!search){\r\n        apiHandler\r\n        .getPointsOfInterest(this.state.destination)\r\n        .then((apiRes) => {\r\n            // console.log(apiRes)\r\n            const filteredData = apiRes.data.features.filter((obj) => {\r\n                return obj.properties.rate <= 3\r\n            })\r\n            filteredData.sort((a, b) => {\r\n               return a.properties.rate < b.properties.rate ? 1 : a.properties.rate > b.properties.rate ? -1 : 0 \r\n            })\r\n            this.setState({\r\n                data: filteredData\r\n            })\r\n        })\r\n        }else{\r\n            console.log(search)\r\n            \r\n            const copyData = [...this.state.data]\r\n                    \r\n                //   console.log()\r\n            this.setState({ \r\n                data: copyData.filter((obj,i) => {\r\n                return (obj.properties.name.includes(search))}\r\n                )\r\n            })\r\n        }\r\n    }\r\n                                \r\n    onSelectItem = (selectedItem) => {\r\n        this.setState({ selectedItem: selectedItem });\r\n      };\r\n                               \r\n                                \r\n                                \r\n    render() {\r\n        return (\r\n            <div>&nbsp;\r\n                <EachPOI pointsOfInterest={this.state.selectedItem} addToTrip={this.addToTrip} />\r\n                <AppMap id={this.state.id} handleSelectItem={this.onSelectItem} destination={this.state.destination} pointsOfInterest={this.state.data}/>\r\n                   \r\n            \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withUser(SearchPagePOI)\r\n","import React from 'react'\r\nimport '../styles/eachTour.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nexport default function eachTour(props) {\r\n    let tours = props.tourList\r\n    console.log(props)\r\n    return (\r\n        <div>\r\n        <div className='back-button'>\r\n            <NavLink exact to={`/trip/${props.id}`}><Button color=\"primary\" variant=\"contained\" className='back-button'>Back to the Trip Page</Button></NavLink>\r\n        </div>\r\n            {tours ? tours.map((obj, i) =>{\r\n                return (\r\n                    <div className=\"tourCards\" key={i}>\r\n                    <img src={obj.pictures[0]} alt={obj.name} />\r\n                    <div className=\"tourDescription\">\r\n                        <NavLink exact to={`/activity/${obj._id}`}>\r\n                        <h2>{obj.name}</h2>\r\n                        </NavLink>\r\n                        <p>{obj.shortDescription}</p>\r\n                    </div>\r\n                    <div className=\"bookTour\">\r\n                        <h3>From € {obj.price.amount} per person</h3><br />\r\n                        <Button key={i}  onClick={() => props.addToTrip(obj._id)} color=\"primary\" variant=\"contained\">\r\n                        Add to my trip\r\n                        </Button><br />\r\n                        <Button href={obj.bookingLink} color=\"secondary\" variant=\"contained\">Book Now</Button>\r\n                    </div>\r\n                    </div>\r\n            )}) : (<h1> Content is loading </h1>)}\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    color: props => props.color,\r\n    width: '80%',\r\n    display: \"flex\",\r\n    justifyContent: 'center',\r\n  },\r\n  child: {\r\n    width: '200%',\r\n  }\r\n});\r\n\r\nconst highOrderComponent = (ComponentToPassStyleTo) => {\r\n  return (props) => \r\n    { const classes = useStyles()\r\n      return <ComponentToPassStyleTo {...props} classes={classes} />}\r\n}\r\n\r\nclass SearchBar extends Component {\r\n\r\n  \r\n  state ={\r\n    search : \"\",\r\n    // filter: true\r\n  }\r\n \r\n  handleChange = (event) =>{\r\n    // console.log(event.target.value);\r\n\r\n    let value = event.target.value;\r\n    // const key = event.target.name;\r\n    \r\n    this.setState({search:value})\r\n    this.props.handleSearch(value)\r\n  }\r\n\r\n//   handleCheck = (evt) => {\r\n//     let value = evt.target.checked\r\n//     this.props.handleCheckBox(\r\n//       value\r\n//     )\r\n\r\n    // if (evt.target.checked === true) {\r\n    //   console.log(evt)\r\n    // } else {\r\n    //   console.log('toto')\r\n    // }\r\n//   }\r\n\r\n  render() {\r\n    const classes = this.props.classes\r\n    return (\r\n      <div className={`search-bar`}>\r\n        <Grid container spacing={1} alignItems=\"flex-end\" className={classes.root}>\r\n          <Grid item>\r\n            <SearchIcon />\r\n          </Grid>\r\n          <Grid item>\r\n            <TextField className={classes.child} label=\"Search\" id=\"search\" name=\"search\" onChange={this.handleChange} />\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default highOrderComponent(SearchBar)","import React, { Component } from 'react'\r\nimport apiHandler from '../api/apiHandler'\r\nimport {withUser} from '../components/Auth/withUser'\r\nimport EachTour from '../components/EachTour'\r\nimport SearchBar from '../components/SearchBar'\r\n\r\nclass SearchPage extends Component {\r\n\r\n    \r\n    \r\n    state = {\r\n        data: \"\",\r\n        destination: this.props.location.state.trip.destination,\r\n        id: this.props.location.state.trip._id\r\n    }\r\n\r\n    \r\n    addToTrip = async (id) => {\r\n        console.log(id)\r\n        try {\r\n            const dbRes = await apiHandler.getOneTrip(this.props.location.state.trip._id)\r\n\r\n            const newTrip = {...dbRes}\r\n            newTrip.tour.push(id)\r\n            console.log(newTrip)\r\n\r\n          const apiRes = await apiHandler.modifyTrip(this.props.location.state.trip._id, newTrip)\r\n                console.log(apiRes)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }    \r\n    }\r\n        \r\n    \r\n\r\n    componentDidMount() {\r\n        console.log(this.state)\r\n\r\n        apiHandler\r\n            .getActivities(this.state.destination)\r\n            .then((apiRes) => {\r\n                this.setState({\r\n             data: apiRes.data\r\n            })})\r\n    }\r\n    \r\n    \r\n    handleNewSearch=(search)=> {\r\n        if(!search){\r\n        apiHandler\r\n        .getActivities(this.state.destination)\r\n        .then((apiRes) => {\r\n            console.log(apiRes)\r\n            this.setState({\r\n                data: apiRes.data\r\n            })\r\n        })\r\n        }else{\r\n            console.log(search)\r\n            \r\n            const copyData = [...this.state.data]\r\n                    \r\n                  // console.log(copyData[0].name)\r\n            this.setState({ \r\n                data: copyData.filter((obj,i) => {\r\n                return (obj.name.includes(search))}\r\n                )\r\n            })\r\n        }\r\n    }\r\n                                \r\n                                \r\n                                \r\n                                \r\n    render() {\r\n    // console.log('toto :', this.state.data)\r\n    // let activities = this.state.data\r\n        return (\r\n            <div>\r\n                <SearchBar handleSearch={this.handleNewSearch}/>\r\n                <EachTour id={this.state.id} tourList={this.state.data} addToTrip={this.addToTrip} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withUser(SearchPage)\r\n","import React, { Component } from 'react'\r\nimport apiHandler from '../api/apiHandler'\r\nimport Button from '@material-ui/core/Button'\r\nimport '../styles/one-tour.css'\r\n\r\nexport default class OneTour extends Component {\r\n\r\n    state = {\r\n        tour: {}\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        apiHandler\r\n            .getOneActivity(this.props.match.params.id)\r\n            .then((apiRes) => {\r\n                this.setState({\r\n                    tour: apiRes.data\r\n                })\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state.tour);\r\n        return (\r\n            <div className=\"one-tour\">\r\n                {this.state.tour.name ? (<>\r\n                    <h1>{this.state.tour.name}</h1>\r\n                    <img src={this.state.tour.pictures[0]} alt={this.state.tour.name}/>\r\n                    <h2> Rate : {'★'.repeat(Math.round(this.state.tour.rating))}\r\n                        {'☆'.repeat(5 - Math.round(this.state.tour.rating))}</h2>\r\n                    <h2>Price : from €{this.state.tour.price.amount} per person</h2>\r\n                    <Button style={{margin: \"10px\"}} color=\"primary\" variant=\"contained\" href={this.state.tour.bookingLink} target=\"_blank\">Book Now </Button>\r\n                    <p>{this.state.tour.shortDescription}</p>\r\n\r\n\r\n                </>) : (<div>Content is loading</div>)}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class error extends Component {\r\n    render() {\r\n        return (\r\n            <div style={{display: \"flex\", justifyContent:\"center\"}}>\r\n                <iframe src=\"https://giphy.com/embed/1hqYk0leUMddBBkAM7\" width=\"384\" height=\"480\" frameBorder=\"0\"  allowFullScreen></iframe>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport NavMain from \"./components/NavMain\";\r\nimport Home from \"./pages/Home\";\r\nimport Signin from \"./pages/Signin\";\r\nimport Signup from \"./pages/Signup\";\r\nimport ProtectedRoute from \"./components/ProtectedRoute\";\r\nimport Profile from \"./pages/Profile\";\r\nimport { ThemeProvider } from '@material-ui/core/styles'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport theme from '../src/styles/theme'\r\nimport CreateTrip from \"./pages/trip/CreateTrip\"\r\nimport OneTrip from \"./pages/trip/OneTrip\";\r\nimport UpdateProfile from \"./pages/UpdateProfile\";\r\nimport Dashboard from \"./pages/Dashboard\";\r\nimport FooterMain from './components/FooterMain'\r\nimport SearchPagePOI from \"./pages/SearchPagePOI\";\r\nimport SearchPageActivities from \"./pages/SearchPageActivities\";\r\nimport OneTour from \"./pages/OneTour\"\r\nimport error from \"./pages/Error\";\r\n\r\nfunction App() {  \r\n\r\n  return (\r\n    <div className=\"App\">\r\n    <ThemeProvider theme={theme} >\r\n      <CssBaseline />\r\n      <NavMain />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route exact path=\"/signin\" component={Signin} />\r\n        <Route exact path=\"/signup\" component={Signup} />\r\n        <Route exact path=\"/error\" component={error} />\r\n        <ProtectedRoute exact path=\"/profile\" component={Profile} />\r\n        <ProtectedRoute exact path=\"/dashboard\" component={Dashboard} />\r\n        <ProtectedRoute exact path=\"/create-trip\" component={CreateTrip} />\r\n        <ProtectedRoute exact path=\"/trip/:id\" component={OneTrip} />\r\n        <ProtectedRoute exact path=\"/search/activities\" component={SearchPageActivities} />\r\n        <ProtectedRoute exact path=\"/activity/:id\" component={OneTour} />\r\n        <ProtectedRoute exact path=\"/profile/edit\" component={UpdateProfile} />\r\n        <ProtectedRoute exact path=\"/search/points-of-interest\" component={SearchPagePOI} />\r\n      </Switch>\r\n      <FooterMain />\r\n    </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport UserProvider from \"./components/Auth/UserProvider\";\r\nimport App from \"./App\";\r\n\r\nimport \"./styles/reset.css\";\r\nimport \"./styles/global.css\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <UserProvider>\r\n      <App />\r\n    </UserProvider>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}